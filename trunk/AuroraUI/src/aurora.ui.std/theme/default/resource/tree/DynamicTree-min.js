$A.DynamicTree=Ext.extend($A.Tree,{createTreeNode:function(a){return new $A.DynamicTree.TreeNode(a)}});$A.DynamicTree.TreeNode=Ext.extend($A.Tree.TreeNode,{createNode:function(a){return new $A.DynamicTree.TreeNode(a)},expand:function(){if(this.childNodes.length>0){if(!this.isRoot()){this.record.set(this.getOwnerTree().expandfield,"Y",true)}this.isExpand=true;this.paintChildren();this.els.child.style.display="block";this.paintIconImg();this.paintClipIcoImg();this.refreshDom()}else{if(!this.isLoaded){var a=this.getOwnerTree();var b=a.dataset;this.els.icon.className="node-icon icon-loading";$A.request({url:b.queryurl,para:this.data.record.data,success:function(f){this.isLoaded=true;if(!f.result.record){f.result.record=[]}var d=[].concat(f.result.record);if(d.length==0){this.els.icon.className="node-icon icon-node";this.paintClipIcoImg()}var c=Number.MAX_VALUE;d.sort(function(h,g){return parseFloat(h[a.sequencefield]||c)-parseFloat(g[a.sequencefield]||c)});for(var e=0;e<d.length;e++){b.create(d[e])}},scope:this})}}},isLeaf:function(){return this.isLoaded?this.childNodes.length===0:false}});