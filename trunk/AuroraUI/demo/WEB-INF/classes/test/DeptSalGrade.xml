<?xml version="1.0" encoding="UTF-8"?>
<sql-service trace="false">
	<query>
		select d.deptno, d.dname, g.grade, g.losal, g.hisal, count(*) as total_count, sum(e.sal) as total_salary
		from   emp e, salgrade g, dept d
		#WHERE_CLAUSE#
		group by d.deptno, d.dname, g.grade, g.losal, g.hisal		
	</query>
	<query-fields>
		<query-field name="sal" dataType="java.lang.Float" queryOperator=">="/>
		<query-field name="ename" queryOperator="like"/>
		<query-field name="deptno" queryOperator="="/>
		<query-field name="mgr" queryExpression="exists (select * from emp t1 where t1.mgr=e.mgr)"/>
		<query-field name="creation_date" queryOperator=">="/>
		<query-field name="hiredate_from" dataType="java.sql.Date" queryExpression="e.hiredate >= ${@hiredate_from}"/>
		<query-field name="hiredate_to" dataType="java.sql.Date" queryExpression="e.hiredate &lt;= ${@hiredate_to}"/>
	</query-fields>
	<data-filters>
		<data-filter expression="e.sal between g.losal and g.hisal and d.deptno = e.deptno"/>
	</data-filters>
	<!--
	<fields>
		<field name="empno" datatype="java.lang.Long" databaseType="BIGINT" required="true"/>
		<field name="ename" datatype="java.lang.String" databaseType="VARCHAR"/>
		<field name="job" datatype="java.lang.String" databaseType="BIGINT"/>
		<field name="mgr" datatype="java.lang.Long" databaseType="BIGINT"/>
		<field name="hiredate" datatype="java.sql.Date" databaseType="DATE"/>
		<field name="deptno" datatype="java.lang.Long" databaseType="BIGINT"/>
		<field name="sal" datatype="java.lang.Long" databaseType="FLOAT"/>
		<field name="comm" datatype="java.lang.Long" databaseType="FLOAT"/>
		<field name="creation_date" datatype="java.sql.Date" databaseType="DATE"/>
	</fields>
	-->
</sql-service>
