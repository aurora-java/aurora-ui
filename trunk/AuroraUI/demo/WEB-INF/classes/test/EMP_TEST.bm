<model baseTable="EMP" alias="e">
	<fields>
		<field name="empno" datatype="java.lang.Long" databaseType="BIGINT" prompt="empno" queryWidth="150" forquery="true" forDisplay="true" displayWidth="100"/>
		<field name="ename" datatype="java.lang.String" databaseType="VARCHAR" prompt="ename" editorType="textfield" queryWidth="150" forquery="true" forDisplay="true" displayWidth="100"/>
		<field name="mgr" datatype="java.lang.Long" databaseType="BIGINT" prompt="mgrno" forDisplay="true" displayWidth="100"/>
		<ref-field name="mgr_name" sourceField="ename" relationName="MGR" prompt="mgr" editorType="lov" forDisplay="true" displayWidth="100" lovWidth="360" lovGridHeight="300" lovHeight="460" lovService="test.LOV_TEST">
			<mapping>
				<map from="empno" to="mgr"/>
				<map from="ename" to="mgr_name"/>
			</mapping>
		</ref-field>
		<ref-field name="dname" sourceField="dname" sourceModel="test.DEPT" prompt="dname" editorType="combobox" forDisplay="true" displayWidth="100" displayField="DNAME" valueField="DEPTNO">
			<mapping>
                <map from="DEPTNO" to="deptno"/>
                <map from="DNAME" to="dname"/>
            </mapping>
		</ref-field>
		<field name="hiredate" forInsert="false" forUpdate="false" datatype="java.sql.Date" databaseType="DATE" prompt="hiredate" editorType="datepicker" forDisplay="true" displayWidth="100"/>
		<field name="creation_date" forInsert="false" forUpdate="false" datatype="date" databaseType="DATE" updateExpression="sysdate" prompt="creationDate" />
		<field name="now_date" forInsert="false" forUpdate="false" datatype="date" expression="sysdate" databaseType="DATE" prompt="NOW_DATE"/>
		<field name="deptno" datatype="java.lang.Long" databaseType="BIGINT" prompt="deptno" forDisplay="true" displayWidth="100"/>
		<field name="comm" datatype="java.lang.Long" databaseType="FLOAT" prompt="comm"/>
		<field name="test1" datatype="java.lang.String" prompt="test1" editorType="checkbox" databaseType="VARCHAR" forDisplay="true" displayWidth="100" defaultValue="N" checkedValue="Y" uncheckedValue="N"/>
		<field name="test2" datatype="java.lang.String" prompt="test2" editorType="checkbox" databaseType="VARCHAR" forDisplay="true" displayWidth="100" defaultValue="N" checkedValue="Y" uncheckedValue="N"/>
		<field name="gender" datatype="java.lang.String" prompt="gender" databaseType="VARCHAR" forDisplay="true" displayWidth="100"/>
		<field name="sal" datatype="java.lang.Long" databaseType="FLOAT" editorType="numberfield" prompt="sal" forDisplay="true" displayWidth="100"/>
		<field name="job" datatype="java.lang.String" databaseType="BIGINT"  prompt="job" editorType="textfield" forDisplay="true" displayWidth="100"/>
	</fields>
	<primary-key>
		<field name="empno"/>
	</primary-key>
	<relations>
		<relation joinType="INNER" refModel="test.DEPT">
			<reference localField="DEPTNO" foreignField="DEPTNO"/>
		</relation>
		<relation name="MGR" joinType="LEFT OUTER" refModel="test.EMP" refAlias="M1">
			<reference localField="MGR" foreignField="EMPNO"/>
			<reference expression="M1.DEPTNO is not null"/>
		</relation>
	</relations>
	<query-fields>
		<query-field field="empno" queryOperator="="/>
		<query-field field="sal" queryOperator=">="/>
		<query-field field="ename" queryOperator="like" matchMode="full"/>
		<query-field field="deptno" queryOperator="="/>
		<query-field field="mgr" queryExpression="exists (select * from emp t1 where t1.mgr=e.mgr)"/>
		<query-field field="creation_date" queryOperator=">="/>
		<query-field name="hiredate_from" dataType="java.sql.Date" queryExpression="e.hiredate >= ${@hiredate_from}" />
		<query-field name="hiredate_to" dataType="java.sql.Date" queryExpression="e.hiredate &lt;= ${@hiredate_to}" />		
	</query-fields>
	<data-filters>
		<data-filter name="MustInDepartment" enforceActions="query" expression="e.deptno is not null"/>
		<data-filter expression="e.creation_date is not null"/>
	</data-filters>
	<order-by>
		<field name="DNAME"/>
		<field name="hiredate" order="desc"/>
	</order-by>
</model>
