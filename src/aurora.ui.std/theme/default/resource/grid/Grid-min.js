(function(aC){var aD=document,a3=aD.documentElement,ai=Ext.each,ak=Ext.isEmpty,L=false,ag=true,az=null,ah="_",k="__",w=".",r=" ",x="",E="]",aA="-c",ap="-u",aL="$l-",aF="$u-",aM="on",ao="px",a0="tr",a="td",a5="th",b="_tb",ar="div",n="top",c="left",am="none",T="width",O="center",av="hidden",aP="cursor",aq="visible",aB="default",aa="w-resize",g="outline",aQ="1px dotted blue",aR="atype",e="append",aK="insertBefore",aW="insertAfter",f="before",l="_navbar",aY="text-overflow",D="recordid",R="dataindex",ad="row-selected",Q="required",aH="item-notBlank",au="item-invalid",d="row-alt",F="grid-rowbox",aU=w+F,u="grid.rowcheck",B="grid.rowradio",G="grid.head",a1="grid-ckb ",af="grid-select-all",al="multiple",ax="checkedvalue",y="-readonly",I="item-ckb",X=I+"-self",a2=w+X,aE=I+ap,aN=I+aA,N=I+y+ap,W=I+y+aA,Y="item-radio-img",aV=Y+aA,aJ=Y+ap,S=Y+y+aA,H=Y+y+ap,aZ=a2+r+w+aN,q="grid-cell",h="cell-editor",M="cellcheck",Z="rowcheck",ab="rowradio",at="rownumber",j="grid-",a7=j+at,aO="desc",o="asc",i=j+aO,aG=j+o,p="click",a4="dblclick",K="cellclick",v="render",aX="rowclick",aw="editorshow",V="nexteditorshow",aS="keydown",an="select",z="mousedown",ay="mousemove",aj="mouseup",t="createrow",J="addrow",ac="未找到",aI="方法!",P="tr[class!=grid-hl]",s="div[atype=grid.headcheck]",aT="["+R+"=",a6=a5+aT,ae=a+aT,m={autoadjust:ag,forexport:ag,hidden:L,lock:L,resizable:ag,rowspan:1,sortable:ag,width:100};aC.Grid=Ext.extend(aC.Component,{constructor:function(A){var C=this;C.selectedId=az;C.lockWidth=0;C.autofocus=ag;aC.Grid.superclass.constructor.call(C,A);$A.onReady(function(){C.autofocus&&C.focus()})},initComponent:function(A){aC.Grid.superclass.initComponent.call(this,A);var U=this,C=U.wrap,a8=U.wb=Ext.get(U.id+"_wrap");U.fb=a8.child("div[atype=grid.fb]");if(U.fb){U.uf=U.fb.child("div[atype=grid.uf]")}U.uc=C.child("div[atype=grid.uc]");U.uh=C.child("div[atype=grid.uh]");U.ub=C.child("div[atype=grid.ub]");U.uht=C.child("table[atype=grid.uht]");U.lc=C.child("div[atype=grid.lc]");U.lh=C.child("div[atype=grid.lh]");U.lb=C.child("div[atype=grid.lb]");U.lht=C.child("table[atype=grid.lht]");U.sp=C.child("div[atype=grid.spliter]");Ext.getBody().insertFirst(U.sp);U.classfiyColumns();U.initTemplate()},processListener:function(A){var C=this;aC.Grid.superclass.processListener.call(C,A);C.wrap[A]("mouseover",C.onMouseOver,C)[A]("mouseout",C.onMouseOut,C)[A]("focus",C.onFocus,C)[A]("blur",C.onBlur,C);if(C.canwheel!==L){C.wb[A]("mousewheel",C.onMouseWheel,C)}C.wb[A](Ext.isOpera?"keypress":aS,C.handleKeyDown,C)[A]("keyup",C.handleKeyUp,C);C.ub[A]("scroll",C.syncScroll,C)[A](p,C.onClick,C)[A](a4,C.onDblclick,C);C.uht[A](ay,C.onUnLockHeadMove,C);C.uh[A](z,C.onHeadMouseDown,C)[A](p,C.onHeadClick,C);if(C.lb){C.lb[A](p,C.onClick,C)[A](a4,C.onDblclick,C)}if(C.lht){C.lht[A](ay,C.onLockHeadMove,C)}if(C.lh){C.lh[A](z,C.onHeadMouseDown,C)[A](p,C.onHeadClick,C)}C[A](K,C.onCellClick,C)},initEvents:function(){aC.Grid.superclass.initEvents.call(this);this.addEvents(v,aS,a4,K,aX,aw,V),t},syncScroll:function(){var A=this;A.hideEditor();A.uh.dom.scrollLeft=A.ub.dom.scrollLeft;if(A.lb){A.lb.dom.scrollTop=A.ub.dom.scrollTop}if(A.uf){A.uf.dom.scrollLeft=A.ub.dom.scrollLeft}},handleKeyUp:function(A){if(A.getKey()==9){this.showEditorByRecord()}},handleKeyDown:function(a8){var C=this,A=a8.getKey(),U=C.dataset;if(a8.ctrlKey&&a8.keyCode==86&&C.canpaste){var a9=window.clipboardData.getData("text");if(a9){ai(a9.split("\n"),function(bd){var bb=bd.split("\t");if(bb==x){return}var bc={},ba=0;ai(C.columns,function(be){if(C.isFunctionCol(be.type)){return}if(be.hidden!==ag){bc[be.name]=bb[ba];ba++}});U.create(bc)})}}else{if(A==9){C.showEditorByRecord()}else{if(A==38||A==40||A==33||A==34){if(U.loading==ag){return}switch(a8.getKey()){case 33:U.prePage();break;case 34:U.nextPage();break;case 38:if(!a8.ctrlKey){U.pre()}break;case 40:if(!a8.ctrlKey){U.next()}break}a8.stopEvent()}}}C.fireEvent(aS,C,a8)},processDataSetLiestener:function(A){var C=this,U=C.dataset;if(U){U[A]("ajaxfailed",C.onAjaxFailed,C);U[A]("metachange",C.onRefresh,C);U[A]("update",C.onUpdate,C);U[A]("reject",C.onUpdate,C);U[A]("add",C.onAdd,C);U[A]("submit",C.onBeforSubmit,C);U[A]("submitfailed",C.onAfterSuccess,C);U[A]("submitsuccess",C.onAfterSuccess,C);U[A]("query",C.onBeforeLoad,C);U[A]("load",C.onLoad,C);U[A]("loadfailed",C.onAjaxFailed,C);U[A]("valid",C.onValid,C);U[A]("beforeremove",C.onBeforeRemove,C);U[A]("remove",C.onRemove,C);U[A]("clear",C.onLoad,C);U[A]("refresh",C.onRefresh,C);U[A]("fieldchange",C.onFieldChange,C);U[A]("indexchange",C.onIndexChange,C);U[A]("select",C.onSelect,C);U[A]("unselect",C.onUnSelect,C);U[A]("selectall",C.onSelectAll,C);U[A]("unselectall",C.onUnSelectAll,C)}},bind:function(C){if(Ext.isString(C)){C=$(C);if(!C){return}}var A=this;A.dataset=C;if(C.autopagesize===ag){C.pagesize=Math.round(((A.ub.getHeight()||parseFloat(A.ub.dom.style.height))-16)/25)}A.processDataSetLiestener(aM);A.onLoad()},initTemplate:function(){var A=this;A.rowTdTpl=new Ext.Template(["<td {rowSpan} ",aR,'="{',aR,'}" class="',F,'" ',D,'="{',D,'}">']);A.rowNumTdTpl=new Ext.Template(['<td {rowSpan} style="text-align:{align}" class="',a7,'" ',aR,'="',a7,'" ',D,'="{',D,'}">']);A.rowNumCellTpl=new Ext.Template(['<div style="',T,":{",T,'}px">{text}</div>']);A.tdTpl=new Ext.Template(['<td {rowSpan} style="visibility:{visibility};text-align:{align}" ',R,'="{name}" ',aR,'="',q,'" ',D,'="{',D,'}">']);A.cellTpl=new Ext.Template(['<div class="',q,' {cellcls}" style="',T,":{",T,'}px" id="',A.id,'_{name}_{recordid}" title="{title}"><span>{text}</span></div>']);A.cbTpl=new Ext.Template(['<center><div class="{cellcls}" id="',A.id,"_{name}_{",D,'}"></div></center>'])},getCheckBoxStatus:function(A,a8,U){var ba=this.dataset.getField(a8),C=ba.getPropertity(ax),a9=A.data[a8];return I+(U?y:x)+((a9&&a9==C)?aA:ap)},createTemplateData:function(C,A){return{width:C.width-2,recordid:A.id,visibility:C.hidden===ag?av:aq,name:C.name}},createCell:function(C,bb,bd,bg){var be=this,a9=be.createTemplateData(C,bb),bj,a8=be.tdTpl,bl=x,U=C.type,ba,bc=be.getEditor(C,bb),bh=[];if(bc!=x){var bf=aC.CmpManager.get(bc);if(bf&&(bf instanceof aC.CheckBox)){U=M}else{bl=h}}else{if(C.name&&!ak(bb.getField(C.name).get(ax))){U=M;ba=ag}}if(U==Z||U==ab){ba=be.dataset.execSelectFunction(bb)?x:y;a8=be.rowTdTpl;a9=Ext.apply(a9,{align:O,atype:U==Z?u:B,cellcls:U==Z?a1+I+ba+ap:"grid-radio "+Y+ba+ap});bj=be.cbTpl}else{if(U==M){a9=Ext.apply(a9,{align:O,cellcls:a1+be.getCheckBoxStatus(bb,C.name,ba)});bj=be.cbTpl}else{var bi=bb.getMeta().getField(C.name);if(bi&&ak(bb.data[C.name])&&bb.isNew==ag&&bi.get(Q)==ag){bl=bl+r+aH}var A=(bl.indexOf(h)!=-1)?5:2,bk=be.renderText(bb,C,bb.data[C.name]);a9=Ext.apply(a9,{align:C.align||c,cellcls:bl,width:a9.width-A,text:bk,title:String(bk).replace(/<[^<>]*>/mg,x)});bj=be.cellTpl;if(U==at){a8=be.rowNumTdTpl;bj=be.rowNumCellTpl}}}if(bg){a9.rowSpan="rowSpan="+bg}if(bd){bh.push(a8.applyTemplate(a9))}bh.push(bj.applyTemplate(a9));if(bd){bh.push("</td>")}return bh.join(x)},createRow:function(ba,bf,bd,be){var a9=this,U={},bb=null,bg=false,a8=a9.parseCss(a9.renderRow(be,bf));a9.fireEvent(t,a9,bf,be,U,bd);if(U.height){a8.style=a8.style=";height:"+U.height+"px;"}var bc=['<tr id="',a9.id,ba,be.id,'" class="',(bf%2==0?x:d),a8.cls,'"','style="',a8.style,'">'];for(var C=0,A=bd.length;C<A;C++){if(bd[C].hidden){continue}if(U.name&&!U.height&&!bg){bb=null;if(bd[C].name==U.name){bg=true}else{bb=2}}bc.push(a9.createCell(bd[C],be,ag,bb))}bc.push("</tr>");bc.push(U.html||"");return bc.join(x)},parseCss:function(U){var a9=x,A=x;if(Ext.isArray(U)){for(var C=0;C<U.length;C++){var a8=this.parseCss(U[C]);a9+=";"+a8.style;A+=r+a8.cls}}else{if(Ext.isString(U)){var ba=!!U.match(/^([^,:;]+:[^:;]+;)*[^,:;]+:[^:;]+;*$/);A=ba?x:U;a9=ba?U:x}}return{style:a9,cls:A}},renderText:function(A,C,a9){var a8=C.renderer;if(a8){var U=aC.getRenderer(a8);if(U==az){alert(ac+a8+aI);return a9}a9=U(a9,A,C.name);return a9==az?x:a9}return a9==az?x:a9},renderRow:function(A,a9){var a8=this.rowrenderer,C=az;if(a8){var U=aC.getRenderer(a8);if(U==az){alert(ac+a8+aI);return C}C=U(A,a9);return !C?x:C}return C},createTH:function(U){var a9=['<tr class="grid-hl">'];for(var C=0,A=U.length;C<A;C++){var a8=U[C];if(a8.hidden){continue}a9.push("<th ",R,'="',a8.name,'" style="height:0px;width:',a8.width,ao,'"></th>')}a9.push("</tr>");return a9.join(x)},onBeforeRemove:function(){aC.Masker.mask(this.wb,_lang["grid.mask.remove"])},onBeforeLoad:function(){this.ub.scrollTo(c,0);this.uh.scrollTo(c,0);if(!Ext.isIE6){aC.Masker.mask(this.wb,_lang["grid.mask.loading"])}},onBeforSubmit:function(A){aC.Masker.mask(this.wb,_lang["grid.mask.submit"])},onAfterSuccess:function(){aC.Masker.unmask(this.wb)},preLoad:function(){},onLoad:function(){var C=this;C.isSelectAll=L;C.clearDomRef();C.preLoad();var A=C.wrap.removeClass(af).child(s);if(A&&C.selectable&&C.selectionmodel==al){C.setCheckBoxStatus(A,L)}if(C.lb){C.renderLockArea()}C.renderUnLockAread();C.drawFootBar();aC.Masker.unmask(C.wb);C.fireEvent(v,C)},clearDomRef:function(){this.selectlockTr=az;this.selectUnlockTr=az},customize:function(){var bb=location.pathname,bc=bb.indexOf("modules"),a8=bb.substring(bc,bb.length),U=a8.substring(a8.lastIndexOf("/")+1,a8.length),C=bb.substring(0,bc),ba=this.wrap.parent("[url]");if(ba){var a9=ba.getAttributeNS("","url");if(a9){a9=a9.split("?")[0];if(a9.indexOf(C)==-1){var A=a9.lastIndexOf("/");if(A!=-1){a9=a9.substring(A+1,a9.length)}a8=a8.replaceAll(U,a9)}else{a8=a9.substring(a9.indexOf(C)+new String(C).length,a9.length)}}}new Aurora.Window({id:"sys_customization_grid",url:C+"modules/sys/sys_customization_grid.screen?source_file="+a8+"&id="+this.id+"&did="+this.dataset.id,title:"个性化设置",height:530,width:560})},onAjaxFailed:function(C,A){aC.Masker.unmask(this.wb)},onMouseWheel:function(C){C.stopEvent();if(this.editing==ag){return}var U=C.getWheelDelta(),A=this.dataset;if(U>0){A.pre()}else{if(U<0){A.next()}}},focus:function(){this.wb.focus()},onFocus:function(){this.hasFocus=true},blur:function(){this.wb.blur()},onBlur:function(){this.hasFocus=false},renderLockArea:function(){var A=this,C=A.lockColumns,U=['<TABLE cellSpacing="0" atype="grid.lbt" cellPadding="0" border="0"  ',T,'="',A.lockWidth,'"><TBODY>',A.createTH(C)];ai(A.dataset.data,function(a9,a8){U.push(A.createRow(aL,a8,C,a9))},A);U.push('</TBODY></TABLE><DIV style="height:17px"></DIV>');A.lbt=A.lb.update(U.join(x)).child("table[atype=grid.lbt]")},renderUnLockAread:function(){var A=this,C=A.unlockColumns,U=['<TABLE cellSpacing="0" atype="grid.ubt" cellPadding="0" border="0" ',T,'="',A.unlockWidth,'"><TBODY>',A.createTH(C)];ai(A.dataset.data,function(a9,a8){U.push(A.createRow(aF,a8,C,a9))},A);U.push("</TBODY></TABLE>");A.ubt=A.ub.update(U.join(x)).child("table[atype=grid.ubt]")},isOverSplitLine:function(A){var U=this,C=0,a8=L;U.overColIndex=-1;ai(U.columns,function(ba,a9){if(ba.hidden!==ag){C+=ba.width}if(A<C+3&&A>C-3&&ba.resizable!=L){a8=ag;U.overColIndex=a9;return L}});return a8},onRefresh:function(){var A=this;A.onLoad();if(A.selectable){var C=A.dataset;ai(C.selected,function(U){A.onSelect(C,U)})}},onIndexChange:function(U,C){var A=this.getDataIndex(C.id);if(A==-1){return}this.selectRow(A,L)},isFunctionCol:function(A){return A==Z||A==ab||A==at},onAdd:function(U,bb,bk){var be=this,a9=be.columns,bi=bk===U.data.length-1,bc=be.parseCss(be.renderRow(bb,bk)),bj=(bk%2==0?x:d+r)+bc.cls;if(be.lbt){var C=aD.createElement(a0),bh=be.lbt.dom.tBodies[0];C.id=be.id+aL+bb.id;C.className=bj;Ext.fly(C).set({style:bc.style});ai(a9,function(bl){if(bl.lock===ag){if(bl.hidden){return true}var bn=aD.createElement(a);if(bl.type==Z){Ext.fly(bn).set({recordid:bb.id,atype:u});bn.className=F;if(be.isSelectAll){bn.className+=r+X}}else{if(bl.type==ab){Ext.fly(bn).set({recordid:bb.id,atype:B});bn.className=F}else{if(bl.hidden){bn.style.visibility=av}bn.style.textAlign=bl.align||c;if(!be.isFunctionCol(bl.type)){bn.dataindex=bl.name}var bm={recordid:bb.id,atype:q};if(bl.type==at){bn.className=a7;bm.atype=a7}Ext.fly(bn).set(bm)}}bn.innerHTML=be.createCell(bl,bb,L);C.appendChild(bn)}});if(bi){bh.appendChild(C)}else{var bd=Ext.fly(bh).query(P);for(var ba=bk,a8=bd.length;ba<a8;ba++){var bf=Ext.fly(bd[ba]).toggleClass(d);bf.select(".grid-rownumber div").each(function(bl){bl.update(Number(bl.dom.innerHTML)+1)});bf.select(aU).each(function(bl){be.setSelectStatus(U.findById(bl.getAttributeNS(x,D)))})}bh.insertBefore(C,bd[bk])}}var A=aD.createElement(a0),bg=be.ubt.dom.tBodies[0];A.id=be.id+aF+bb.id;A.className=bj;Ext.fly(A).set({style:bc.style});ai(a9,function(bl){if(bl.lock!==ag){if(bl.hidden){return true}var bm=aD.createElement(a);bm.style.visibility=bl.hidden===ag?av:aq;bm.style.textAlign=bl.align||c;Ext.fly(bm).set({dataindex:bl.name,recordid:bb.id,atype:q});bm.innerHTML=be.createCell(bl,bb,L);A.appendChild(bm)}});if(bi){bg.appendChild(A)}else{var bd=Ext.fly(bg).query(P);for(var ba=bk,a8=bd.length;ba<a8;ba++){Ext.fly(bd[ba]).toggleClass(d)}bg.insertBefore(A,bd[bk])}be.setSelectStatus(bb);be.drawFootBar();be.fireEvent(J,be,bb)},renderEditor:function(a8,A,U,C){a8.parent(a).update(this.createCell(U,A,L))},onUpdate:function(ba,A,C,a9){this.setSelectStatus(A);var a8=this,bc=Ext.get([a8.id,C,A.id].join(ah));if(bc){var bb=a8.findColByName(C),U=a8.getEditor(bb,A);if(U!=x&&($(U) instanceof aC.CheckBox)){a8.renderEditor(bc,A,bb,U)}else{bc.update(a8.renderText(A,bb,a9))}}ai(a8.columns,function(be){if(be.name!=C){var bd=Ext.get([a8.id,be.name,A.id].join(ah));if(bd){if(be.editorfunction){a8.renderEditor(bd,A,be,a8.getEditor(be,A))}if(be.renderer){bd.update(a8.renderText(A,be,A.get(be.name)))}}}});a8.drawFootBar(C)},onValid:function(a8,A,C,U){var ba=this.findColByName(C);if(ba){var a9=Ext.get([this.id,C,A.id].join(ah));if(a9){if(U==L){a9.addClass(au)}else{a9.removeClass([aH,au])}}}},onRemove:function(a9,A,C){var a8=this,U=Ext.get(a8.id+aL+A.id),ba=Ext.get(a8.id+aF+A.id);if(U){U.remove()}if(ba){ba.remove()}if(Ext.isIE||Ext.isIE9){a8.syncScroll()}a8.clearDomRef();aC.Masker.unmask(a8.wb);a8.drawFootBar()},onClear:function(){},onFieldChange:function(a8,A,a9,C,U){if(C==Q){var ba=Ext.get([this.id,a9.name,A.id].join(ah));if(ba){ba[U==ag?"addClass":"removeClass"](aH)}}},getDataIndex:function(U){for(var C=0,a8=this.dataset.data,A=a8.length;C<A;C++){if(a8[C].id==U){return C}}return -1},onSelect:function(a8,C,a9){if(!C||a9){return}var U=this,A=Ext.get(U.id+k+C.id);A.parent(aU).addClass(X);if(A){if(U.selectionmodel==al){U.setCheckBoxStatus(A,ag)}else{U.setRadioStatus(A,ag);a8.locate((a8.currentPage-1)*a8.pagesize+a8.indexOf(C)+1)}U.setSelectStatus(C)}},onUnSelect:function(a8,C,a9){if(!C||a9){return}var U=this,A=Ext.get(U.id+k+C.id);A.parent(aU).addClass(X);if(A){if(U.selectionmodel==al){U.setCheckBoxStatus(A,L)}else{U.setRadioStatus(A,L)}U.setSelectStatus(C)}},onSelectAll:function(){var A=this;A.clearChecked();A.isSelectAll=ag;A.isUnSelectAll=L;A.wrap.addClass(af)},onUnSelectAll:function(){var A=this;A.clearChecked();A.isSelectAll=L;A.isUnSelectAll=ag;A.wrap.removeClass(af)},clearChecked:function(){var A=this.wrap;A.select(aZ).replaceClass(aN,aE);A.select(a2).removeClass(X)},onDblclick:function(bb,U){var ba=Ext.fly(U).parent("td[atype=grid-cell]");if(ba){var a9=this.dataset,a8=ba.getAttributeNS(x,D),A=a9.findById(a8),bc=a9.indexOf(A),C=ba.getAttributeNS(x,R);this.fireEvent(a4,this,A,bc,C)}},onClick:function(bb,be){var bc=Ext.fly(be).parent(a);if(bc){var ba=this,U=bc.getAttributeNS(x,aR),bd=bc.getAttributeNS(x,D),C=ba.dataset;if(U==q){var a9=C.findById(bd),bf=C.indexOf(a9),A=bc.getAttributeNS(x,R);ba.fireEvent(K,ba,bf,A,a9);ba.fireEvent(aX,ba,bf,a9)}else{if(U==a7){var a9=C.findById(bd),bf=C.indexOf(a9);if(a9.id!=ba.selectedId){ba.selectRow(bf)}}else{if(U==u){var a8=Ext.get(ba.id+k+bd);if(a8.hasClass(N)||a8.hasClass(W)){return}if(ba.isSelectAll&&!a8.parent(a2)){a8.replaceClass(aE,aN)}else{if(ba.isUnselectAll&&!a8.parent(a2)){a8.replaceClass(aN,aE)}}a8.hasClass(aN)?C.unSelect(bd):C.select(bd)}else{if(U==B){var a8=Ext.get(ba.id+k+bd);if(a8.hasClass(H)||a8.hasClass(S)){return}C.select(bd)}}}}}},onCellClick:function(U,a8,C,A,a9){this.adjustColumn(C);this.showEditor(a8,C,a9)},adjustColumn:function(a8){var bb=this,U=bb.findColByName(a8);if(!U||!U.autoadjust||U.hidden){return}var ba=bb.wrap.select("tr.grid-hl "+a6+a8+E),C=parseInt(ba.elements[0].style.width),A=C,bc=12,a9=Math.min(bb.width-(bb.selectable?23:0)-20,U.maxadjustwidth||Number.MAX_VALUE);bb.wrap.select(ae+a8+"] span").each(function(bd){if(Ext.isIE||Ext.isIE9){bd.parent().setStyle(aY,"clip")}A=Math.max(bd.getWidth()+bc,A);if(Ext.isIE||Ext.isIE9){bd.parent().setStyle(aY,x)}if(A>a9){A=a9;return L}});A>C&&bb.setColumnSize(a8,A)},setColumnPrompt:function(C,A){this.wrap.select("td.grid-hc"+aT+C+"] div").update(A)},setEditor:function(C,U){var A=this.findColByName(C),a8=Ext.get([this.id,C,this.selectedId].join(ah));A.editor=U;if(a8){if(U==x){a8.removeClass(h)}else{if(!$(U) instanceof aC.CheckBox){a8.addClass(h)}}}},getEditor:function(a8,C){var U=a8.editor||x;if(a8.editorfunction){var A=window[a8.editorfunction];if(A==az){alert(ac+a8.editorfunction+aI);return az}U=A(C,a8.name)||x}return U},showEditor:function(bd,A,bc){if(bd==-1){return}var ba=this,U=ba.findColByName(A);if(!U){return}var C=ba.dataset,a8=C.getAt(bd);if(!a8){return}if(a8.id!=ba.selectedId){ba.selectRow(bd)}else{ba.focusRow(bd)}ba.focusColumn(A);var bb=ba.getEditor(U,a8);ba.setEditor(A,bb);if(bb!=x){var a9=$(bb);(function(){var bf=a8.get(A),bi=Ext.get([ba.id,A,a8.id].join(ah)),bh=bi.getXY(),be;a9.bind(C,A);a9.render(a8);a9.el.on(aS,ba.onEditorKeyDown,ba);Ext.fly(a3).on(z,ba.onEditorBlur,ba);be=ba.currentEditor={record:a8,ov:bf,name:A,editor:a9};if(a9 instanceof aC.CheckBox){a9.move(bh[0],bh[1]-4);if(bc){a9.focus()}else{a9.onClick()}}else{var bg=bi.parent();if(a9 instanceof aC.Field){a9.el.setStyle("text-align",U.align||c)}a9.move(bh[0],bh[1]);a9.setHeight(bi.getHeight()-2);a9.setWidth(bi.getWidth()-5);a9.isEditor=ag;a9.isFireEvent=ag;a9.isHidden=L;a9.focus();ba.editing=ag;a9.on(an,ba.onEditorSelect,ba);if(bc){bc(a9)}ba.fireEvent(aw,ba,a9,bd,A,a8)}}).defer(10)}},showEditorByRecord:function(A){var C=this,U=C.dataset,a8=A?U.indexOf(A):0;A=A||U.getAt(0);ai(C.columns,function(a9){if(a9.hidden!=ag&&C.getEditor(a9,A)!=x){C.fireEvent(K,C,a8,a9.name,A,function(){});C.fireEvent(aX,C,a8,A);return L}})},onEditorSelect:function(){(function(){this.hideEditor()}).defer(1,this)},onEditorKeyDown:function(a9){var U=this,a8=a9.keyCode,C=U.currentEditor;if(a8==27){if(C){var A=C.editor;if(A){A.clearInvalid();A.render(A.binder.ds.getCurrentRecord())}}U.hideEditor()}else{if(a8==13){if(!(C&&C.editor&&C.editor instanceof aC.TextArea)){U.showEditorBy(39)}}else{if(a8==9){a9.stopEvent();U.showEditorBy(a9.shiftKey?37:39)}else{if(a9.ctrlKey&&(a8==37||a8==38||a8==39||a8==40)){U.showEditorBy(a8);a9.stopEvent()}}}}},findEditorBy:function(bb){var be=this,C,bd;if((C=be.currentEditor)&&(bd=C.editor)){var bh=be.columns,bf=L,ba=be.dataset,a9=bd.binder.name,A=bd.record,bj=ba.data.indexOf(A),U=az,bg=L,bc=ag,bi=L,a8;if(bj!=-1){if(bb==37||bb==38){bh=[].concat(bh).reverse();bc=L}if(bb==38||bb==40){bi=ag;a8=be.findColByName(a9)}while(A){if(!bi){ai(bh,function(bk){if(bf){if(bk.hidden!=ag&&be.getEditor(bk,A)!=x){U=bk.name;return L}}else{if(bk.name==a9){bf=ag}}})}if(U){return{row:bj,name:U,record:A}}A=ba.getAt(bc?++bj:--bj);if(bc&&!A&&!bg&&be.autoappend!==L){be.hideEditor();ba.create();A=ba.getAt(bj);bg=ag}if(bi&&A&&be.getEditor(a8,A)!=x){U=a9}}}}return az},showEditorBy:function(U){var a8=this,ba=function(bb){},C=a8.findEditorBy(U);if(C){a8.hideEditor();var a9=C.row,A=C.record;a8.fireEvent(K,a8,a9,C.name,A,ba);a8.fireEvent(aX,a8,a9,A)}},focusRow:function(ba){var a9=25,A=this.ub,U=A.getScroll().top,a8=A.getHeight(),C=A.dom.scrollWidth>A.dom.clientWidth?16:0;if(ba*a9<U){A.scrollTo(n,ba*a9-1)}else{if((ba+1)*a9>(U+a8-C)){A.scrollTo(n,(ba+1)*a9-a8+C)}}},focusColumn:function(U){var bc=this,A=25,C=bc.ub,a9=C.getScroll().left,bd=0,bb=0,a8=0,ba;ai(bc.columns,function(be){if(be.name==U){bb=be.width}if(be.hidden!==ag){if(be.lock===ag){a8+=be.width}else{if(bb==0){bd+=be.width}}}});ba=bd+bb;if(bd<a9){C.scrollTo(c,bd)}else{if((ba-a9)>(bc.width-a8)){C.scrollTo(c,ba-bc.width+a8+(C.dom.scrollHeight>C.dom.clientHeight?16:0))}}},hideEditor:function(){var a8=this,U=a8.currentEditor;if(U){var C=U.editor;if(C){if(!C.canHide||C.canHide()){C.el.un(aS,a8.onEditorKeyDown,a8);C.un(an,a8.onEditorSelect,a8);Ext.fly(a3).un(z,a8.onEditorBlur,a8);C.move(-10000,-10000);var A=C.autocompleteview;if(A){A.hide()}C.blur();C.isFireEvent=L;C.isHidden=ag;a8.editing=L;if(C.collapse){C.collapse()}}}}},onEditorBlur:function(a8,C){var U=this,A=U.currentEditor;if(A&&!A.editor.isEventFromComponent(C)){U.hideEditor.defer(Ext.isIE9?10:0,U)}},onLockHeadMove:function(C){var A=this;A.hmx=C.xy[0]-A.lht.getXY()[0];A.lh.setStyle(aP,A.isOverSplitLine(A.hmx)?aa:aB)},onUnLockHeadMove:function(U){var A=this;var C=A.uht;A.hmx=U.xy[0]-(C?C.getXY()[0]+C.getScroll().left:0)+A.lockWidth;A.uh.setStyle(aP,A.isOverSplitLine(A.hmx)?aa:aB)},onHeadMouseDown:function(C){var A=this;A.dragWidth=-1;if(A.overColIndex==undefined||A.overColIndex==-1){return}A.dragIndex=A.overColIndex;A.dragStart=C.getXY()[0];A.sp.setHeight(A.wrap.getHeight()).show().setStyle({top:A.wrap.getXY()[1]+ao,left:C.xy[0]+ao});Ext.get(a3).on(ay,A.onHeadMouseMove,A).on(aj,A.onHeadMouseUp,A)},onHeadClick:function(bc,bh){var ba=this,bd=Ext.fly(bh).parent(a),A=ba.dataset,U;if(bd){U=bd.getAttributeNS(x,aR)}if(U==G){var bb=bd.getAttributeNS(x,R),C=ba.findColByName(bb);if(C&&C.sortable===ag){if(A.isModified()){aC.showInfoMessage("提示","有未保存数据!");return}var be=bd.child(ar),bg=bb,a9=x;if(ba.currentSortTarget){ba.currentSortTarget.removeClass([aG,i])}ba.currentSortTarget=be;if(ak(C.sorttype)){C.sorttype=aO;be.removeClass(aG).addClass(i);a9=aO}else{if(C.sorttype==aO){C.sorttype=o;be.removeClass(i).addClass(aG);a9=o}else{C.sorttype=x;be.removeClass([i,aG])}}A.sort(bg,a9)}}else{if(U==u){var a8=bd.child(s);if(a8){var bf=a8.hasClass(aN);ba.setCheckBoxStatus(a8,!bf);if(!bf){A.selectAll()}else{A.unSelectAll()}}}}},setRadioStatus:function(A,C){if(!C){A.removeClass(aV).addClass(aJ)}else{A.addClass(aV).removeClass(aJ)}},setCheckBoxStatus:function(A,C){if(!C){A.removeClass(aN).addClass(aE)}else{A.addClass(aN).removeClass(aE)}},setSelectDisable:function(U,C){var A=this.dataset.selected.indexOf(C)==-1;if(this.selectionmodel==al){U.removeClass([aN,aE]).addClass(A?N:W)}else{U.removeClass([aV,aJ,S,H]).addClass(A?H:S)}},setSelectEnable:function(U,C){var A=this.dataset.selected.indexOf(C)==-1;if(this.selectionmodel==al){U.removeClass([N,W]).addClass(A?aE:aN)}else{U.removeClass([aJ,aV,H,S]).addClass(A?aJ:aV)}},setSelectStatus:function(C){var U=this,a8=U.dataset;if(a8.selectfunction){var A=Ext.get(U.id+k+C.id);if(!a8.execSelectFunction(C)){U.setSelectDisable(A,C)}else{U.setSelectEnable(A,C)}}},onHeadMouseMove:function(a8){var U=this;a8.stopEvent();U.dragEnd=a8.getXY()[0];var C=U.dragEnd-U.dragStart,a9=U.columns[U.dragIndex],A=a9.width+C;if(A>30&&A<U.width){U.dragWidth=A;U.sp.setStyle(c,a8.xy[0]+ao)}},onHeadMouseUp:function(C){var A=this;Ext.get(a3).un(ay,A.onHeadMouseMove,A).un(aj,A.onHeadMouseUp,A);A.sp.hide();if(A.dragWidth!=-1){A.setColumnSize(A.columns[A.dragIndex].name,A.dragWidth)}A.syncScroll()},findColByName:function(A){var C;if(A){ai(this.columns,function(U){if(U.name&&U.name.toLowerCase()===A.toLowerCase()){C=U;return L}})}return C},selectRow:function(ba,C){var a8=this,a9=a8.dataset,A=a9.getAt(ba),U=(a9.currentPage-1)*a9.pagesize+ba+1;a8.selectedId=A.id;if(a8.selectlockTr){a8.selectlockTr.removeClass(ad)}if(a8.selectUnlockTr){a8.selectUnlockTr.removeClass(ad)}a8.selectUnlockTr=Ext.get(a8.id+aF+A.id);if(a8.selectUnlockTr){a8.selectUnlockTr.addClass(ad)}a8.selectlockTr=Ext.get(a8.id+aL+A.id);if(a8.selectlockTr){a8.selectlockTr.addClass(ad)}a8.focusRow(ba);if(C!==L&&U!=az){a9.locate.defer(5,a9,[U,L])}},setColumnSize:function(A,be){var a9=this,ba,a8,U=0,C=0;ai(a9.columns,function(bf){if(bf.name&&bf.name===A){if(bf.hidden===ag){return}bf.width=be;if(bf.lock!==ag){ba=a9.uh.child(a6+A+E);a8=a9.ub.child(a6+A+E)}else{if(a9.lh){ba=a9.lh.child(a6+A+E)}if(a9.lb){a8=a9.lb.child(a6+A+E)}}}if(bf.hidden!==ag){bf.lock!==ag?(C+=bf.width):(U+=bf.width)}});a9.wrap.select(ae+A+"] DIV.grid-cell").each(function(bf){bf.setStyle(T,Math.max(be-(bf.hasClass(h)?7:4),0)+ao)});a9.unlockWidth=C;a9.lockWidth=U;if(ba){ba.setStyle(T,be+ao)}if(a8){a8.setStyle(T,be+ao);a8.setStyle("display",be==0?"none":"")}var bd=Math.max(a9.width-U,0);if(a9.fb){a9.fb.child(a6+A+E).setStyle(T,be+ao);a9.uf.setStyle(T,bd+ao);a9.fb.child("table[atype=fb.ubt]").setStyle(T,C+ao);var bc=a9.fb.child("table[atype=fb.lbt]");if(bc){a9.fb.child("div[atype=grid.lf]").setStyle(T,(U-1)+ao);bc.setStyle(T,U+ao)}}if(a9.lc){var bb=Math.max(U-1,0);a9.lc.setStyle({width:bb+ao,display:bb==0?am:x})}if(a9.lht){a9.lht.setStyle(T,U+ao)}if(a9.lbt){a9.lbt.setStyle(T,U+ao)}a9.uc.setStyle(T,bd+ao);a9.uh.setStyle(T,bd+ao);a9.ub.setStyle(T,bd+ao);a9.uht.setStyle(T,C+ao);if(a9.ubt){a9.ubt.setStyle(T,C+ao)}a9.syncSize()},drawFootBar:function(C){var A=this;if(!A.fb){return}ai([].concat(C?C:A.columns),function(bb){var a9=Ext.isString(bb)?A.findColByName(bb):bb;if(a9&&a9.footerrenderer){var ba=aC.getRenderer(a9.footerrenderer);if(ba==az){alert(ac+a9.footerrenderer+aI);return}var a8=a9.name,U=ba(A.dataset.data,a8);if(!ak(U)){A.fb.child(ae+a8+E).update(U)}}})},syncSize:function(){var A=this,U=0;ai(A.columns,function(a8){if(a8.hidden!==ag){if(a8.lock===ag){U+=a8.width}}});if(U!=0){var C=A.width-U;A.uc.setWidth(C);A.uh.setWidth(C);A.ub.setWidth(C)}},classfiyColumns:function(){var A=this;A.lockColumns=[],A.unlockColumns=[];A.lockWidth=0,A.unlockWidth=0;ai(A.columns,function(C){if(C.lock===ag){A.lockColumns.add(C);if(C.hidden!==ag){A.lockWidth+=C.width}}else{A.unlockColumns.add(C);if(C.hidden!==ag){A.unlockWidth+=C.width}}});A.columns=A.lockColumns.concat(A.unlockColumns)},showColumn:function(C){var A=this.findColByName(C);if(A){if(A.hidden===ag){delete A.hidden;A.forexport=ag;this.setColumnSize(C,A.hiddenwidth||A.width);delete A.hiddenwidth;this.wrap.select(ae+C+E).show()}}},hideColumn:function(C){var A=this.findColByName(C);if(A){if(A.hidden!==ag){A.hiddenwidth=A.width;this.setColumnSize(C,0,L);this.wrap.select(ae+C+E).hide();A.hidden=ag;A.forexport=L}}},removeColumn:function(A){var bc=this,be=bc.columns,bf=[],bb=[];ai(A,function(bh){col=bc.findColByName(bh);if(!col){return}if(col.lock){bf.push(bh)}else{bb.push(bh)}be.splice(be.indexOf(col),1)});var ba=bf.length,a9=bb.length,U=[];if(ba||a9){bc.classfiyColumns();if(ba){var C=bc.lockWidth,bg=bc.wrap.getWidth()-C;for(var a8=0;a8<ba;a8++){U.push(aT+bf[a8]+E)}if(C){bc.lht.setWidth(C);bc.lc.setWidth(C);bc.lbt.dom.width=C}else{bc.lc.remove()}bc.uc.setWidth(bg);bc.uh.setWidth(bg);bc.ub.setWidth(bg)}for(var a8=0;a8<a9;a8++){U.push(aT+bb[a8]+E)}bc.wrap.select(U.join(",")).remove();var bd=bc.unlockWidth;bc.uht.setWidth(bd);bc.ubt.setWidth(bd)}},createHead:Ext.isIE||Ext.isIE9?function(bb,bc,U,ba,C){var A=ba.query(a0),a8=Ext.fly(A[0]).child("th[width=20]"),a9;if(U){a9=ba.query(aT+U+E)[0]}if(bc==aW){a9=a9.nextSibling||az;C++}else{if(bc==e){if(a8){a9=a8.dom}C=-1}}ai(bb,function(bh){var be=Ext.get(aD.createElement(a5)),bg=Ext.get(A[1].insertCell(C)),bd=bh.width,bf=bh.name;if(C>-1){C++}bg.addClass("grid-hc").set({dataindex:bf,atype:G}).update("<div>"+bh.prompt+"</div>");if(a9){A[0].insertBefore(be.dom,a9)}else{A[0].appendChild(be.dom)}be.setStyle(T,bd+ao).set({dataindex:bf})})}:function(bb,bc,A,a9){var C=[],a8=[],U=a9.query(bc!=e?aT+A+E:a0);ai(bb,function(bd){C.push('<th style="width:',bd.width,ao,';" ',R,'="',bd.name,'"></th>');a8.push('<td class="grid-hc" atype="grid.head" ',R,'="',bd.name,'"><div>',bd.prompt,"</div></td>")});new Ext.Template(C.join(x))[bc](U[0],{});new Ext.Template(a8.join(x))[bc](U[1],{});var ba=Ext.fly(U[0]).child("th[width=20]");if(ba){ba.appendTo(Ext.fly(U[0]))}},addColumn:function(bk,C,ba){var bb=this;if(bb.dataset.isModified()){aC.showInfoMessage(_lang["grid.info"],_lang["grid.info.continue"])}else{var bg=bb.columns,bc=bg.length,bj,bh;if(C&&ba){var a8=bb.findColByName(C);if(a8){bj=a8.lock;bh=bb[bj?"lockColumns":"unlockColumns"].indexOf(a8);bc=(ba==f?0:1)+bg.indexOf(a8)}else{alert("未找到列"+C);return}}var bi=[],a9=[];ai(bk,function(bn){var bm=Ext.apply(Ext.apply({},m),bn),bl=bb.findColByName(bm.name);if(bl){return}if(bm.lock){bi.push(bm)}else{a9.push(bm)}});var U=bi.concat(a9);if(U.length){var A=ba?(ba==f?aK:aW):e,bf=umethod=A,bd=uname=C,be=bb.wrap;if(bj){umethod=aK;uname=bb.unlockColumns[0].name}else{bf=e;bd=az}bb.columns=bg.slice(0,bc).concat(U).concat(bg.slice(bc));bb.classfiyColumns();if(bi.length){if(!bb.lht){bb.lc=new Ext.Template("<DIV class='grid-la' atype='grid.lc' style='width:24px;'><DIV class='grid-lh' atype='grid.lh' unselectable='on' onselectstart='return false;' style='height:25px;'><TABLE cellSpacing='0' atype='grid.lht' cellPadding='0' border='0' style='width:25px'><TBODY><TR class='grid-hl'></TR><TR height=25></TR></TBODY></TABLE></DIV><DIV class='grid-lb' atype='grid.lb' style='width:100%;height:255px'></DIV></DIV>").insertFirst(bb.wrap.dom,{},ag);bb.lh=be.child("div[atype=grid.lh]");bb.lb=be.child("div[atype=grid.lb]");bb.lht=be.child("table[atype=grid.lht]");bb.lb[aM](p,bb.onClick,bb)[aM](a4,bb.onDblclick,bb);bb.lht[aM](ay,bb.onLockHeadMove,bb);bb.lh[aM](z,bb.onHeadMouseDown,bb)[aM](p,bb.onHeadClick,bb)}bb.createHead(bi,bf,bd,bb.lht,bh)}if(a9.length){bb.createHead(a9,umethod,uname,bb.uht,bh)}if(bb.lb){bb.lb.update(x)}bb.ub.update(x);ai(U,function(bl){bb.setColumnSize(bl.name,bl.width)});bb.dataset.query()}}},insertColumnBefore:function(C,A){this.addColumn(A,C,f)},insertColumnAfter:function(C,A){this.addColumn(A,C,1)},setWidth:function(U){var a8=this;if(a8.width==U){return}a8.width=U;a8.wrap.setWidth(U);var C=aC.CmpManager.get(a8.id+b);if(C){C.setWidth(U)}var A=aC.CmpManager.get(a8.id+l);if(A){A.setWidth(U)}if(a8.fb){a8.fb.setWidth(U)}var a9=U-a8.lockWidth;a8.uc.setWidth(a9);a8.uh.setWidth(a9);a8.ub.setWidth(a9);if(a8.uf){a8.uf.setWidth(a9)}},setHeight:function(a8){var a9=this;if(a9.height==a8){return}a9.height=a8;var C=aC.CmpManager.get(a9.id+b);if(C){a8-=25}var A=aC.CmpManager.get(a9.id+l);if(A){a8-=25}if(a9.fb){a8-=25}a9.wrap.setHeight(a8);var U=a8-25;if(a9.lb){a9.lb.setHeight(U)}a9.ub.setHeight(U)},deleteSelectRows:function(U){var C=this.dataset,A=[].concat(C.getSelected());if(A.length>0){C.remove(A)}},remove:function(){var A=this.dataset.getSelected();if(A.length>0){aC.showConfirm(_lang["grid.remove.confirm"],_lang["grid.remove.confirmMsg"],this.deleteSelectRows.createDelegate(this))}},clear:function(){var C=this.dataset,A=C.getSelected();while(A[0]){C.removeLocal(A[0])}},_export:function(C,A,U){this.exportOptions={type:C,filename:A,separator:U};this.showExportConfirm()},showExportConfirm:function(){this.initColumnPrompt();var C=this,a9=0,a8=C.id+"_export",U=['<div class="item-export-wrap" style="margin:15px;width:270px" id="',a8,'">','<div class="grid-uh" atype="grid.uh" style="width: 270px; -moz-user-select: none; text-align: left; height: 25px; cursor: default;" onselectstart="return false;" unselectable="on">','<table cellSpacing="0" cellPadding="0" border="0"><tbody><tr height="25px">','<td class="export-hc" style="width:22px;" atype="export.rowcheck"><center><div atype="export.headcheck" class="',a1,aE,'"></div></center></td>','<td class="export-hc" style="width:222px;" atype="grid-type">',_lang["grid.export.column"],"</td>","</tr></tbody></table></div>",'<div style="overflow:auto;height:200px;"><table cellSpacing="0" cellPadding="0" border="0"><tbody>'],A=ag;ai(C.columns,function(bb,ba){if(!C.isFunctionCol(bb.type)){if(A){A=bb.forexport!==L}U.push("<tr",(a9+ba)%2==0?x:' class="',d,'"','><td class="',F,'" style="width:22px;" ',D,'="',ba,'" atype="export.rowcheck"><center><div id="',C.id,k,ba,'" class="',a1,bb.forexport===L?aE:aN,'"></div></center></td><td><div class="',q,'" style="width:220px">',bb.prompt,bb.hidden?'<div style="float:right;color:red">&lt;隐藏列&gt;</div>':x,"</div></td></tr>")}else{a9++}});if(A){U[7]=aN}U.push("</tbody></table></div></div>");C.exportwindow=aC.showOkCancelWindow(_lang["grid.export.config"],U.join(x),function(ba){aC.showConfirm(_lang["grid.export.confirm"],_lang["grid.export.confirmMsg"],function(bb){C.doExport();bb.close();ba.body.un(p,C.onExportClick,C);ba.close()});return L},az,az,300);C.exportwindow.body.on(p,C.onExportClick,C)},initColumnPrompt:function(){var A=this;if(!A.isPromptInit){ai(A.columns,function(C){if(!A.isFunctionCol(C.type)){C.prompt=C.name?A.wrap.child("td.grid-hc"+aT+C.name+"] div").dom.innerHTML:(C.prompt||A.dataset.getField(C.name).pro.prompt)}});A.isPromptInit=ag}},onExportClick:function(a9,bf){var a8=this,ba=Ext.fly(bf).parent(a);if(ba){var A=ba.getAttributeNS(x,aR);if(A=="export.rowcheck"){var bd=ba.getAttributeNS(x,D),C=ba.child(ar),bc=C.hasClass(aN),U=C.getAttributeNS(x,aR),bb=a8.columns;a8.setCheckBoxStatus(C,!bc);if(U=="export.headcheck"){var be=(a8.isFunctionCol(bb[0].type)?1:0)+(a8.isFunctionCol(bb[1].type)?1:0);a8.exportwindow.body.select("td[atype=export.rowcheck] div[atype!=export.headcheck]").each(function(bg,bi,bh){a8.setCheckBoxStatus(bg,!bc);bb[bh+be].forexport=!bc})}else{bb[bd].forexport=!bc}}}},doExport:function(){var C=this,A=C.exportOptions;C.initColumnPrompt();aC.doExport(C.dataset,C.columns,null,A.type,A.separator,A.filename);delete C.exportOptions},destroy:function(){aC.Grid.superclass.destroy.call(this);this.processDataSetLiestener("un");this.sp.remove();delete this.sp},createCompositeEditor:function(A,a9,be,bd){var C=this.id,ba=this.dataset,bj=be.id,bb=this.findColByName(A),a8=bb.lock?Ext.get(this.id+aL+bj):Ext.get(this.id+aF+bj),bg=bb.lock?Ext.get(this.id+aF+bj):Ext.get(this.id+aL+bj),bi=bb.lock?this.lbt:this.ubt;if(this.currentEditor&&this.currentEditor.editor instanceof $A.CheckBox){this.hideEditor()}var bk=bi.dom,bh=bk.tBodies[0],U=document.createElement(a0);U.id=this.id+"_cmp_"+A+"_"+bj;var bc=document.createElement(a);bc.colSpan=a9;bc.innerHTML=bd.html;U.appendChild(bc);if(ba.indexOf(be)>=ba.data.length-1){bh.appendChild(U)}else{var bf=Ext.get(this.id+(bb.lock?aL:aF)+(++bj));bh.insertBefore(U,bf.dom)}if(bg){bg.setHeight(bd.height)}Ext.each(a8.dom.childNodes,function(bm){var bl=Ext.get(bm).getAttributeNS(x,R);if(bl==A){return false}bm.rowSpan=2})},createCompositeRow:function(C,ba,a9,bb,A,a8){var U=[];ba.name=C;if(a8.find("name",C)){U.push('<tr id="'+this.id+"_cmp_"+C+"_"+A.id+'"><td colSpan="'+bb+'">');U.push(a9.html);U.push("</td></tr>");ba.html=U.join("")}else{ba.height=a9.height}},removeCompositeEditor:function(a8,A){var bc=this.id,a9=A.id,U=this.findColByName(a8),bb=U.lock?Ext.get(this.id+aL+a9):Ext.get(this.id+aF+a9),C=U.lock?Ext.get(this.id+aF+a9):Ext.get(this.id+aL+a9);if(this.currentEditor.editor instanceof $A.CheckBox){this.hideEditor()}if(C){C.setHeight(22)}Ext.each(bb.dom.childNodes,function(be){var bd=Ext.get(be).getAttributeNS(x,R);if(bd==a8){return false}be.rowSpan=1});var ba=Ext.get(this.id+"_cmp_"+a8+"_"+a9);if(ba){ba.remove()}}});aC.Grid.revision="$Rev$"})($A);